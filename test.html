<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æµ·çœ‹AIåŸ¹è®­æˆ˜ç•¥æ±‡æŠ¥å¹³å° - æµ‹è¯•ç‰ˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .header {
      text-align: center;
      margin-bottom: 48px;
      padding: 48px 0;
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
      border-radius: 16px;
      color: white;
    }
    
    .title {
      font-size: 42px;
      font-weight: 700;
      margin-bottom: 16px;
    }
    
    .subtitle {
      font-size: 20px;
      opacity: 0.9;
    }
    
    .nav-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 48px;
    }
    
    .nav-card {
      background: white;
      border-radius: 12px;
      padding: 32px;
      text-decoration: none;
      color: inherit;
      border: 2px solid transparent;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .nav-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
      border-color: #1e3a8a;
    }
    
    .nav-card h3 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #1f2937;
    }
    
    .nav-card p {
      font-size: 14px;
      color: #6b7280;
      line-height: 1.4;
    }
    
    .content-section {
      background: white;
      border-radius: 12px;
      padding: 32px;
      margin-bottom: 24px;
      border: 1px solid #e5e7eb;
    }
    
    .content-section h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 16px;
      color: #1f2937;
    }
    
    .content-section p {
      font-size: 16px;
      line-height: 1.7;
      color: #374151;
      margin-bottom: 16px;
    }
    
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }
    
    .stat-card {
      background: #f8fafc;
      border-radius: 12px;
      padding: 24px;
      text-align: center;
      border: 1px solid #e2e8f0;
    }
    
    .stat-number {
      font-size: 36px;
      font-weight: 700;
      color: #1e3a8a;
      margin-bottom: 8px;
    }
    
    .stat-label {
      font-size: 14px;
      color: #6b7280;
    }
    
    .search-box {
      width: 100%;
      padding: 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 16px;
      margin-bottom: 24px;
    }
    
    .search-box:focus {
      outline: none;
      border-color: #1e3a8a;
    }
    
    .content-lines {
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
    }
    
    .line-item {
      padding: 8px 0;
      border-bottom: 1px solid #f3f4f6;
    }
    
    .line-item:last-child {
      border-bottom: none;
    }
    
    .line-number {
      display: inline-block;
      width: 40px;
      font-weight: 600;
      color: #6b7280;
    }
    
    .line-content {
      color: #374151;
    }
    
    .highlight {
      background-color: #fef3c7;
      padding: 2px 4px;
      border-radius: 4px;
    }
    
    .bookmark-btn, .annotation-btn {
      background: #1e3a8a;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin-right: 8px;
      margin-bottom: 8px;
    }
    
    .bookmark-btn:hover, .annotation-btn:hover {
      background: #1e40af;
    }
    
    .test-section {
      background: #ecfdf5;
      border: 1px solid #a7f3d0;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 16px;
    }
    
    .test-section h3 {
      color: #047857;
      margin-bottom: 12px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <header class="header">
      <h1 class="title">ğŸ¢ æµ·çœ‹AIåŸ¹è®­æˆ˜ç•¥æ±‡æŠ¥å¹³å°</h1>
      <p class="subtitle">æ„å»º"æŠ€æœ¯+å†…å®¹+åœºæ™¯"æ–°ç”Ÿæ€ | è‡ªåŠ¨åŒ–æµ‹è¯•é¡µé¢</p>
    </header>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number">110</div>
        <div class="stat-label">è¡ŒåŸæ–‡å†…å®¹</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">4</div>
        <div class="stat-label">ä¸»è¦ç« èŠ‚</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">8</div>
        <div class="stat-label">åˆ†é’Ÿé˜…è¯»</div>
      </div>
    </div>

    <!-- å¯¼èˆªå¡ç‰‡ -->
    <div class="nav-grid">
      <div class="nav-card" onclick="showSection('strategy')">
        <h3>ğŸ¯ æˆ˜ç•¥å®šä½</h3>
        <p>ä»¥AIåŸ¹è®­ä¸ºèµ·ç‚¹ï¼Œæ„å»ºAIä¸šåŠ¡ç”Ÿæ€ï¼Œä»åŸ¹è®­â†’å’¨è¯¢â†’è§£å†³æ–¹æ¡ˆâ†’å¹³å°æœåŠ¡çš„å®Œæ•´å‘å±•è·¯å¾„ã€‚</p>
      </div>
      <div class="nav-card" onclick="showSection('why')">
        <h3>â“ WHYï¼šä¸ºä»€ä¹ˆåšï¼Ÿ</h3>
        <p>æ·±å…¥åˆ†æAIåŸ¹è®­çš„å¸‚åœºæœºé‡ä¸æˆ˜ç•¥å¿…è¦æ€§ï¼ŒæŠ“ä½æ”¿ç­–çº¢åˆ©çª—å£æœŸã€‚</p>
      </div>
      <div class="nav-card" onclick="showSection('what')">
        <h3>ğŸ¯ WHATï¼šåšä»€ä¹ˆï¼Ÿ</h3>
        <p>æ„å»ºå®Œæ•´çš„AIåŸ¹è®­ä¸šåŠ¡ä½“ç³»ä¸äº§å“çŸ©é˜µï¼Œæˆä¸ºå±±ä¸œçœé¢†å…ˆçš„å’¨è¯¢å¼åŸ¹è®­æœåŠ¡å•†ã€‚</p>
      </div>
      <div class="nav-card" onclick="showSection('how')">
        <h3>ğŸ› ï¸ HOWï¼šå¦‚ä½•åšï¼Ÿ</h3>
        <p>è¯¦ç»†çš„å®æ–½è·¯å¾„ä¸æ‰§è¡Œç­–ç•¥ï¼Œä¸‰é˜¶æ®µå‘å±•å’Œ"å€Ÿå¤–è„‘+é“¸å†…åŠŸ"çš„å®æ–½ç­–ç•¥ã€‚</p>
      </div>
      <div class="nav-card" onclick="showSection('summary')">
        <h3>ğŸ“‹ æ€»ç»“ä¸å»ºè®®</h3>
        <p>é¡¹ç›®æ•´ä½“å›é¡¾ä¸æœªæ¥å‘å±•è§„åˆ’ï¼Œæ ¸å¿ƒç«äº‰ä¼˜åŠ¿å’Œå‘å±•å»ºè®®ã€‚</p>
      </div>
      <div class="nav-card" onclick="showSection('full')">
        <h3>ğŸ“„ å®Œæ•´å†…å®¹</h3>
        <p>æŸ¥çœ‹110è¡ŒåŸæ–‡çš„å®Œæ•´åˆ—è¡¨ï¼Œæ”¯æŒæœç´¢ã€ä¹¦ç­¾å’Œæ ‡æ³¨åŠŸèƒ½ã€‚</p>
      </div>
    </div>

    <!-- æµ‹è¯•åŠŸèƒ½åŒºåŸŸ -->
    <div class="content-section">
      <h2>ğŸ” åŠŸèƒ½æµ‹è¯•åŒºåŸŸ</h2>
      
      <div class="test-section">
        <h3>æœç´¢åŠŸèƒ½æµ‹è¯•</h3>
        <input type="text" class="search-box" placeholder="æœç´¢å†…å®¹..." onkeyup="performSearch(this.value)">
        <div id="search-results"></div>
      </div>
      
      <div class="test-section">
        <h3>ä¹¦ç­¾åŠŸèƒ½æµ‹è¯•</h3>
        <button class="bookmark-btn" onclick="addBookmark()">æ·»åŠ ä¹¦ç­¾</button>
        <button class="bookmark-btn" onclick="showBookmarks()">æ˜¾ç¤ºä¹¦ç­¾</button>
        <div id="bookmark-list"></div>
      </div>
      
      <div class="test-section">
        <h3>æ ‡æ³¨åŠŸèƒ½æµ‹è¯•</h3>
        <button class="annotation-btn" onclick="addAnnotation()">æ·»åŠ æ ‡æ³¨</button>
        <button class="annotation-btn" onclick="showAnnotations()">æ˜¾ç¤ºæ ‡æ³¨</button>
        <div id="annotation-list"></div>
      </div>
    </div>

    <!-- å†…å®¹å±•ç¤ºåŒºåŸŸ -->
    <div class="content-section" id="content-display" style="display: none;">
      <h2 id="section-title">å†…å®¹æ ‡é¢˜</h2>
      <div id="section-content">å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º...</div>
    </div>

    <!-- å®Œæ•´å†…å®¹åˆ—è¡¨ -->
    <div class="content-section" id="full-content" style="display: none;">
      <h2>ğŸ“„ å®Œæ•´å†…å®¹åˆ—è¡¨</h2>
      <div class="content-lines" id="content-lines">
        <!-- å†…å®¹è¡Œå°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
  </div>

  <script>
    // æ¨¡æ‹Ÿå†…å®¹æ•°æ®
    const contentData = [
      { line: 1, content: "æµ·çœ‹AIåŸ¹è®­ï¼šæ„å»ºæµ·çœ‹\"æŠ€æœ¯+å†…å®¹+åœºæ™¯\"æ–°ç”Ÿæ€çš„å·¥ä½œæ±‡æŠ¥", section: "strategy" },
      { line: 2, content: "æˆ˜ç•¥å®šä½ï¼šä»¥AIåŸ¹è®­ä¸ºèµ·ç‚¹ï¼Œæ„å»ºAIä¸šåŠ¡ç”Ÿæ€", section: "strategy" },
      { line: 3, content: "æ ¹æ®å…¬å¸ã€Šäººå·¥æ™ºèƒ½åº”ç”¨åˆ›æ–°å‘å±•çº²è¦ã€‹ï¼Œæµ·çœ‹çš„ç›®æ ‡æ˜¯å…¨é¢æ¨è¡Œ\"äººå·¥æ™ºèƒ½+\"ï¼Œå®ç°å…¨ä¸šåŠ¡çš„AIåŒ–èµ‹èƒ½ã€‚", section: "strategy" },
      { line: 4, content: "AIæ—¶ä»£ï¼Œæœ€å¤§çš„é¸¿æ²Ÿä¸æ˜¯æŠ€æœ¯ï¼Œè€Œæ˜¯è®¤çŸ¥ã€‚æˆ‘ä»¬ä¸å–è¯¾ç¨‹ï¼Œæˆ‘ä»¬æä¾›'è§£å†³é—®é¢˜çš„æ–¹æ¡ˆ'ã€‚", section: "strategy" },
      { line: 5, content: "æˆ‘ä»¬å¿…é¡»æ˜ç¡®ï¼šAIåŸ¹è®­ä¸šåŠ¡ä¸æ˜¯æµ·çœ‹çš„ç»ˆç‚¹ï¼Œè€Œæ˜¯æµ·çœ‹äººå·¥æ™ºèƒ½ä¸šåŠ¡çš„æˆ˜ç•¥èµ·ç‚¹å’Œé‡è¦åˆ‡å…¥ç‚¹ã€‚", section: "strategy" },
      { line: 9, content: "ä¸€ã€WHYï¼šä¸ºä»€ä¹ˆåšï¼Ÿï¼ˆæ—¶ä»£æµªæ½®ä¸å¸‚åœºç—›ç‚¹ï¼‰", section: "why" },
      { line: 10, content: "æˆ‘ä»¬å¼€å±•AIåŸ¹è®­ä¸šåŠ¡ï¼Œä¸æ˜¯ä¸€æ—¶å…´èµ·ï¼Œè€Œæ˜¯é¡ºåŠ¿è€Œä¸ºï¼Œæ˜¯è§£å†³æµ·çœ‹è‡ªèº«å‘å±•å’Œå¤–éƒ¨å¸‚åœºè¿«åˆ‡éœ€æ±‚çš„å¿…ç„¶é€‰æ‹©ã€‚", section: "why" },
      { line: 31, content: "äºŒã€WHATï¼šåšä»€ä¹ˆï¼Ÿï¼ˆæ„å»º\"åŸ¹è®­+æœåŠ¡+äº§å“\"çš„ä¸šåŠ¡çŸ©é˜µï¼‰", section: "what" },
      { line: 32, content: "æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æˆä¸ºå±±ä¸œçœé¢†å…ˆçš„\"å’¨è¯¢å¼åŸ¹è®­æœåŠ¡å•†\"ï¼Œé€šè¿‡å‚ç›´å‘åŠ›ã€è¡Œä¸šèµ‹èƒ½ï¼Œæ„å»ºæµ·çœ‹çš„AIä¸šåŠ¡ç”Ÿæ€ã€‚", section: "what" },
      { line: 40, content: "ä¸‰ã€HOWï¼šå¦‚ä½•åšï¼Ÿï¼ˆåˆçºµè¿æ¨ªä¸èƒ½åŠ›è‡ªå»ºï¼‰", section: "how" },
      { line: 41, content: "æˆ‘ä»¬å¿…é¡»æ¸…é†’è®¤è¯†åˆ°è‡ªèº«çš„ä¼˜åŠ£åŠ¿ï¼Œé‡‡å–\"å€Ÿå¤–è„‘\"ä¸\"é“¸å†…åŠŸ\"ç›¸ç»“åˆçš„ç­–ç•¥ï¼Œå¿«é€Ÿç ´å±€ã€‚", section: "how" },
      { line: 106, content: "å››ã€æ€»ç»“ä¸å»ºè®®", section: "summary" },
      { line: 107, content: "AIåŸ¹è®­ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯æµ·çœ‹AIä¸šåŠ¡çš„æˆ˜ç•¥èµ·ç‚¹ã€‚", section: "summary" },
      { line: 110, content: "å»ºè®®å…¬å¸è¿…é€Ÿæˆç«‹ä¸“é¡¹å·¥ä½œç»„ï¼Œæ•´åˆèµ„æºï¼Œå¿«é€Ÿè¡ŒåŠ¨ï¼Œä»¥åˆä½œä¸ºä¸»çº¿ï¼Œé‡ç‚¹çªç ´Gç«¯é¡¹ç›®ï¼Œå¹¶æˆ˜ç•¥æ€§æ·±è€•å¹¿ç”µå‚ç›´é¢†åŸŸï¼Œä¸ºæµ·çœ‹åœ¨æœªæ¥çš„äººå·¥æ™ºèƒ½æ—¶ä»£æ„å»ºæœ€åšå®çš„äººæ‰åº•åº§å’Œä¸šåŠ¡ç”Ÿæ€ã€‚", section: "summary" }
    ];

    // ç« èŠ‚å†…å®¹
    const sectionContent = {
      strategy: {
        title: "ğŸ¯ æˆ˜ç•¥å®šä½",
        content: "ä»¥AIåŸ¹è®­ä¸ºèµ·ç‚¹ï¼Œæ„å»ºAIä¸šåŠ¡ç”Ÿæ€ï¼Œä»åŸ¹è®­â†’å’¨è¯¢â†’è§£å†³æ–¹æ¡ˆâ†’å¹³å°æœåŠ¡çš„å®Œæ•´å‘å±•è·¯å¾„ã€‚æ ¹æ®å…¬å¸ã€Šäººå·¥æ™ºèƒ½åº”ç”¨åˆ›æ–°å‘å±•çº²è¦ã€‹ï¼Œæµ·çœ‹çš„ç›®æ ‡æ˜¯å…¨é¢æ¨è¡Œ\"äººå·¥æ™ºèƒ½+\"ï¼Œå®ç°å…¨ä¸šåŠ¡çš„AIåŒ–èµ‹èƒ½ã€‚"
      },
      why: {
        title: "â“ WHYï¼šä¸ºä»€ä¹ˆåšï¼Ÿ",
        content: "æ·±å…¥åˆ†æAIåŸ¹è®­çš„å¸‚åœºæœºé‡ä¸æˆ˜ç•¥å¿…è¦æ€§ï¼ŒæŠ“ä½æ”¿ç­–çº¢åˆ©çª—å£æœŸã€‚æˆ‘ä»¬å¼€å±•AIåŸ¹è®­ä¸šåŠ¡ï¼Œä¸æ˜¯ä¸€æ—¶å…´èµ·ï¼Œè€Œæ˜¯é¡ºåŠ¿è€Œä¸ºï¼Œæ˜¯è§£å†³æµ·çœ‹è‡ªèº«å‘å±•å’Œå¤–éƒ¨å¸‚åœºè¿«åˆ‡éœ€æ±‚çš„å¿…ç„¶é€‰æ‹©ã€‚"
      },
      what: {
        title: "ğŸ¯ WHATï¼šåšä»€ä¹ˆï¼Ÿ",
        content: "æ„å»ºå®Œæ•´çš„AIåŸ¹è®­ä¸šåŠ¡ä½“ç³»ä¸äº§å“çŸ©é˜µï¼Œæˆä¸ºå±±ä¸œçœé¢†å…ˆçš„å’¨è¯¢å¼åŸ¹è®­æœåŠ¡å•†ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æˆä¸ºå±±ä¸œçœé¢†å…ˆçš„\"å’¨è¯¢å¼åŸ¹è®­æœåŠ¡å•†\"ï¼Œé€šè¿‡å‚ç›´å‘åŠ›ã€è¡Œä¸šèµ‹èƒ½ï¼Œæ„å»ºæµ·çœ‹çš„AIä¸šåŠ¡ç”Ÿæ€ã€‚"
      },
      how: {
        title: "ğŸ› ï¸ HOWï¼šå¦‚ä½•åšï¼Ÿ",
        content: "è¯¦ç»†çš„å®æ–½è·¯å¾„ä¸æ‰§è¡Œç­–ç•¥ï¼Œä¸‰é˜¶æ®µå‘å±•å’Œ\"å€Ÿå¤–è„‘+é“¸å†…åŠŸ\"çš„å®æ–½ç­–ç•¥ã€‚æˆ‘ä»¬å¿…é¡»æ¸…é†’è®¤è¯†åˆ°è‡ªèº«çš„ä¼˜åŠ£åŠ¿ï¼Œé‡‡å–\"å€Ÿå¤–è„‘\"ä¸\"é“¸å†…åŠŸ\"ç›¸ç»“åˆçš„ç­–ç•¥ï¼Œå¿«é€Ÿç ´å±€ã€‚"
      },
      summary: {
        title: "ğŸ“‹ æ€»ç»“ä¸å»ºè®®",
        content: "é¡¹ç›®æ•´ä½“å›é¡¾ä¸æœªæ¥å‘å±•è§„åˆ’ï¼Œæ ¸å¿ƒç«äº‰ä¼˜åŠ¿å’Œå‘å±•å»ºè®®ã€‚AIåŸ¹è®­ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯æµ·çœ‹AIä¸šåŠ¡çš„æˆ˜ç•¥èµ·ç‚¹ã€‚å»ºè®®å…¬å¸è¿…é€Ÿæˆç«‹ä¸“é¡¹å·¥ä½œç»„ï¼Œæ•´åˆèµ„æºï¼Œå¿«é€Ÿè¡ŒåŠ¨ã€‚"
      }
    };

    // ä¹¦ç­¾å’Œæ ‡æ³¨æ•°æ®
    let bookmarks = [];
    let annotations = [];

    // æ˜¾ç¤ºç« èŠ‚å†…å®¹
    function showSection(sectionId) {
      const display = document.getElementById('content-display');
      const title = document.getElementById('section-title');
      const content = document.getElementById('section-content');
      const fullContent = document.getElementById('full-content');
      
      fullContent.style.display = 'none';
      display.style.display = 'block';
      
      if (sectionId === 'full') {
        showFullContent();
        return;
      }
      
      const section = sectionContent[sectionId];
      if (section) {
        title.textContent = section.title;
        content.innerHTML = `<p>${section.content}</p>`;
      }
    }

    // æ˜¾ç¤ºå®Œæ•´å†…å®¹
    function showFullContent() {
      const display = document.getElementById('content-display');
      const fullContent = document.getElementById('full-content');
      const contentLines = document.getElementById('content-lines');
      
      display.style.display = 'none';
      fullContent.style.display = 'block';
      
      contentLines.innerHTML = contentData.map(item => `
        <div class="line-item" data-line="${item.line}">
          <span class="line-number">${item.line}:</span>
          <span class="line-content">${item.content}</span>
          <button class="bookmark-btn" onclick="toggleBookmark(${item.line})">ğŸ”–</button>
          <button class="annotation-btn" onclick="toggleAnnotation(${item.line})">ğŸ“</button>
        </div>
      `).join('');
    }

    // æœç´¢åŠŸèƒ½
    function performSearch(query) {
      const results = document.getElementById('search-results');
      if (!query.trim()) {
        results.innerHTML = '';
        return;
      }
      
      const matches = contentData.filter(item => 
        item.content.toLowerCase().includes(query.toLowerCase())
      );
      
      results.innerHTML = matches.map(item => `
        <div style="padding: 8px; margin: 4px 0; background: #f8fafc; border-radius: 4px;">
          <strong>ç¬¬${item.line}è¡Œ:</strong> ${highlightText(item.content, query)}
        </div>
      `).join('');
    }

    // é«˜äº®æ–‡æœ¬
    function highlightText(text, query) {
      const regex = new RegExp(`(${query})`, 'gi');
      return text.replace(regex, '<span class="highlight">$1</span>');
    }

    // ä¹¦ç­¾åŠŸèƒ½
    function addBookmark() {
      const lineNumber = prompt('è¯·è¾“å…¥è¦æ·»åŠ ä¹¦ç­¾çš„è¡Œå·:');
      if (lineNumber) {
        const bookmark = {
          id: Date.now(),
          line: parseInt(lineNumber),
          title: `ç¬¬${lineNumber}è¡Œ`,
          createdAt: new Date().toLocaleString()
        };
        bookmarks.push(bookmark);
        alert(`å·²æ·»åŠ ä¹¦ç­¾: ${bookmark.title}`);
      }
    }

    function showBookmarks() {
      const list = document.getElementById('bookmark-list');
      if (bookmarks.length === 0) {
        list.innerHTML = '<p>æš‚æ— ä¹¦ç­¾</p>';
        return;
      }
      
      list.innerHTML = bookmarks.map(bookmark => `
        <div style="padding: 8px; margin: 4px 0; background: #f0f9ff; border-radius: 4px;">
          <strong>${bookmark.title}</strong> - ${bookmark.createdAt}
          <button onclick="removeBookmark(${bookmark.id})" style="margin-left: 8px;">åˆ é™¤</button>
        </div>
      `).join('');
    }

    function toggleBookmark(lineNumber) {
      const existing = bookmarks.find(b => b.line === lineNumber);
      if (existing) {
        bookmarks = bookmarks.filter(b => b.line !== lineNumber);
        alert(`å·²åˆ é™¤ç¬¬${lineNumber}è¡Œçš„ä¹¦ç­¾`);
      } else {
        bookmarks.push({
          id: Date.now(),
          line: lineNumber,
          title: `ç¬¬${lineNumber}è¡Œ`,
          createdAt: new Date().toLocaleString()
        });
        alert(`å·²æ·»åŠ ç¬¬${lineNumber}è¡Œçš„ä¹¦ç­¾`);
      }
    }

    function removeBookmark(id) {
      bookmarks = bookmarks.filter(b => b.id !== id);
      showBookmarks();
    }

    // æ ‡æ³¨åŠŸèƒ½
    function addAnnotation() {
      const lineNumber = prompt('è¯·è¾“å…¥è¦æ·»åŠ æ ‡æ³¨çš„è¡Œå·:');
      const text = prompt('è¯·è¾“å…¥æ ‡æ³¨å†…å®¹:');
      if (lineNumber && text) {
        const annotation = {
          id: Date.now(),
          line: parseInt(lineNumber),
          text: text,
          createdAt: new Date().toLocaleString()
        };
        annotations.push(annotation);
        alert(`å·²æ·»åŠ æ ‡æ³¨: ç¬¬${lineNumber}è¡Œ - ${text}`);
      }
    }

    function showAnnotations() {
      const list = document.getElementById('annotation-list');
      if (annotations.length === 0) {
        list.innerHTML = '<p>æš‚æ— æ ‡æ³¨</p>';
        return;
      }
      
      list.innerHTML = annotations.map(annotation => `
        <div style="padding: 8px; margin: 4px 0; background: #fef3c7; border-radius: 4px;">
          <strong>ç¬¬${annotation.line}è¡Œ:</strong> ${annotation.text} - ${annotation.createdAt}
          <button onclick="removeAnnotation(${annotation.id})" style="margin-left: 8px;">åˆ é™¤</button>
        </div>
      `).join('');
    }

    function toggleAnnotation(lineNumber) {
      const text = prompt('è¯·è¾“å…¥æ ‡æ³¨å†…å®¹:');
      if (text) {
        const annotation = {
          id: Date.now(),
          line: lineNumber,
          text: text,
          createdAt: new Date().toLocaleString()
        };
        annotations.push(annotation);
        alert(`å·²æ·»åŠ ç¬¬${lineNumber}è¡Œçš„æ ‡æ³¨: ${text}`);
      }
    }

    function removeAnnotation(id) {
      annotations = annotations.filter(a => a.id !== id);
      showAnnotations();
    }

    // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      console.log('æµ·çœ‹AIåŸ¹è®­å¹³å°æµ‹è¯•é¡µé¢å·²åŠ è½½');
      console.log('å¯ç”¨åŠŸèƒ½æµ‹è¯•:');
      console.log('1. å¯¼èˆªå¡ç‰‡ç‚¹å‡»');
      console.log('2. æœç´¢åŠŸèƒ½');
      console.log('3. ä¹¦ç­¾åŠŸèƒ½');
      console.log('4. æ ‡æ³¨åŠŸèƒ½');
      console.log('5. å“åº”å¼è®¾è®¡');
    });
  </script>
</body>
</html>